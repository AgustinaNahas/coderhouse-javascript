<!DOCTYPE html>
<html lang="en">
<head>
    <title>Clase7</title>
    <script type="text/javascript">

        // Este es el constructor para la persona

        function Persona(nombre, dni){
            this.nombre = nombre;
            this.dni = dni;
        }

        // var nombreGuardado = sessionStorage.getItem("nombre")

        // if (!nombreGuardado){

        // Cada vez que una persona entrra a mi pagina,
        // guardo su nombre

            nombreGuardado = prompt("Ingrese su nombre")
            sessionStorage.setItem("nombre", nombreGuardado)
        // }

        // En caso de que esa persona ya tuviese un carrito, se lo muestra

        if (sessionStorage.carrito){
            console.log("Termin√° tu compra! Este es tu carrito:")
            console.log(JSON.parse(sessionStorage.carrito))
        } else {

            // Sino, guarda un carrito con productos cualesquiera (?)

            function Carrito(productos, descuento){
                this.productos = productos;
                this.descuento = descuento;
            }

            var carrito = new Carrito(["discman", "mp3", "ipod", "tocadiscos"], 0.5)

            console.log(carrito);

            var carritoJSON = JSON.stringify(carrito)

            sessionStorage.setItem("carrito_" + nombreGuardado, carritoJSON)
        }

    </script>
</head>
<body>
    <p></p>
</body>
</html>
